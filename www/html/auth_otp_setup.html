<div class="narrative">
    <p>{{ @intl.core.auth_otp.about_otp }}</p>

    <p>{{ @intl.core.auth_otp.otp_warning, @otp_recovery_url | format, raw }}</p>

    <p>{{ @intl.core.auth_otp.setup_otp }}</p>

    <ol>
        <li>{{ @intl.core.auth_otp.download_app }}</li>
        <li>{{ @intl.core.auth_otp.add_account, @qr | format, raw }}
            <div class="otp-key"><span>{{ @secret1 }}</span><span>{{ @secret5 }}</span><span>{{ @secret9 }}</span><span>{{ @secret13 }}</span></div>
            <div class="otp-key" x-data="{ url: {{ @qr | js, raw }} }" x-qrcode="url"></div>
        </li>
        <li>{{ @intl.core.auth_otp.verify_code }}</li>
    </ol>
</div>

<script src="{{ @base_path }}html/assets/qrcode.js" type="text/javascript"></script>

<form action="{{ @base_path }}auth/otp" method="post" enctype="application/x-www-form-urlencoded">
    <input type="hidden" name="tk" value="{{ @tk }}"/>
    <input type="hidden" name="otp_params" value="{{ @otp_params }}"/>
    
    <div class="form-item">
        <label for="edit-otp">{{ @intl.core.auth_otp.otp_label }}</label>
        <input type="text" inputmode="numeric" name="otp" id="edit-otp" size="10" value="" autocomplete="one-time-code" autocorrect="off" class="form-text otp required" />
    </div>
    <input type="submit" name="op" id="edit-submit" value="{{ @intl.common.verify }}" class="is-default" />
</form>
